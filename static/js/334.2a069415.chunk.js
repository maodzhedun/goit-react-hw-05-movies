"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[334],{135:(t,e,n)=>{n.d(e,{LF:()=>c,Nt:()=>o,UM:()=>l,dk:()=>i,q8:()=>s});var a=n(722);const r="https://api.themoviedb.org/3";a.A.defaults.params={api_key:"7dad0d8643406850cd53b8ced36ef73e"};const o=async()=>(await a.A.get("".concat(r,"/trending/movie/day"))).data.results,s=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(await a.A.get("".concat(r,"/search/movie?query=").concat(t,"&page=").concat(e))).data},c=async t=>(await a.A.get("".concat(r,"/movie/").concat(t))).data,i=async t=>(await a.A.get("".concat(r,"/movie/").concat(t,"/credits"))).data.cast,l=async t=>(await a.A.get("".concat(r,"/movie/").concat(t,"/reviews"))).data.results},146:(t,e,n)=>{n.d(e,{A:()=>o});n(43);var a=n(266),r=n(579);const o=()=>(0,r.jsx)("div",{children:(0,r.jsx)(a.pf,{color:"#00BFFF",height:80,width:80})})},191:(t,e,n)=>{n.d(e,{m:()=>c,w:()=>i});var a,r,o=n(528),s=n(323);const c=s.A.div(a||(a=(0,o.A)(["\n  max-width: 1100px;\n  padding: 0 16px;\n  margin: 0 auto;\n"]))),i=s.A.section(r||(r=(0,o.A)(["\n  padding: 60px 0;\n  border-bottom: 1px solid #eee;\n  height: 100%;\n"])))},334:(t,e,n)=>{n.d(e,{A:()=>r});n(43);var a=n(579);const r=t=>{let{message:e}=t;return(0,a.jsx)("p",{children:e})}},953:(t,e,n)=>{n.r(e),n.d(e,{default:()=>m});var a=n(334),r=n(146),o=n(43),s=n(366),c=n(579);const i=t=>{let{movies:e}=t;const n=(0,s.zy)();return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("ul",{children:e.map((t=>{let{title:e,id:a,poster_path:r}=t;return(0,c.jsx)("li",{children:(0,c.jsxs)(s.N_,{to:"".concat(a),state:{from:n},children:[(0,c.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w200").concat(r),alt:e}),e]})},a)}))})})},l=t=>{let{onQuery:e,queryParams:n,setPage:a}=t;return(0,c.jsx)("label",{children:(0,c.jsx)("input",{type:"text",placeholder:"Search movies",value:n,onChange:t=>{const n=t.target.value;e(""!==n?{query:n}:{}),a(1)}})})};var d,u=n(528);const x=n(323).A.button(d||(d=(0,u.A)(["\n  margin-left: auto;\n  margin-right: auto;\n  padding: 8px 16px;\n  border-radius: 2px;\n  background-color: #3f51b5;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  display: inline-block;\n  color: #fff;\n  border: 0;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 500;\n  min-width: 180px;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n\n  &:hover,\n  &:focus {\n    background-color: #303f9f;\n  }\n"]))),h=t=>{let{onClick:e}=t;return(0,c.jsx)(x,{type:"button",onClick:e,children:"Load more"})};var p=n(135),g=n(191);const m=()=>{var t;const[e,n]=(0,o.useState)([]),[d,u]=(0,s.ok)(),[x,m]=(0,o.useState)(1),[v,f]=(0,o.useState)(!1),[b,y]=(0,o.useState)(!1),[j,w]=(0,o.useState)(!1),A=null!==(t=d.get("query"))&&void 0!==t?t:"";(0,o.useEffect)((()=>{if(!A)return n([]);(async(t,e)=>{f(!0);try{const{results:a,total_result:r,total_pages:o}=await(0,p.q8)(t,e);1===e?n(a):(n((t=>[...t,...a])),w(o<Math.ceil(r/20))),w(!0),f(!1)}catch(b){y(!0),console.log(b.message),f(!0)}})(A,x)}),[x,A]),(0,o.useEffect)((()=>{if(!A)return w(!1)}),[A]);return(0,c.jsx)(g.m,{children:(0,c.jsxs)(g.w,{children:[(0,c.jsx)("h1",{children:"Search Movies"}),(0,c.jsx)(l,{onQuery:t=>{u(t)},queryParams:A,setPage:m}),v?(0,c.jsx)(r.A,{}):(0,c.jsxs)(c.Fragment,{children:[0!==e.length&&(0,c.jsxs)("h2",{children:["Movies: '",A,"'"]}),(0,c.jsx)(i,{movies:e}),j&&(0,c.jsx)(h,{onClick:()=>{m((t=>t+1))}})]}),b&&(0,c.jsx)(a.A,{})]})})}}}]);
//# sourceMappingURL=334.2a069415.chunk.js.map