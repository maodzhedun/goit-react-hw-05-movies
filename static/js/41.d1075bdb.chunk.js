"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[41],{41:(n,t,e)=>{e.r(t),e.d(t,{default:()=>M});var a,r,o,s,i,c=e(334),d=e(146),l=e(43),p=e(366),x=e(528),h=e(323);const u=h.A.ul(a||(a=(0,x.A)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 24px;\n  padding: 0;\n  margin: 0;\n  list-style: none;\n"]))),g=h.A.li(r||(r=(0,x.A)(["\n  width: 180px;\n  border-radius: 8px;\n  overflow: hidden;\n  background: #fff;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.08);\n  transition: transform 0.2s;\n  &:hover,\n  &:focus-within {\n    transform: translateY(-4px) scale(1.03);\n    box-shadow: 0 4px 16px rgba(0,0,0,0.12);\n  }\n"]))),m=h.A.a(o||(o=(0,x.A)(["\n  display: block;\n  color: inherit;\n  text-decoration: none;\n  padding: 8px;\n"]))),f=h.A.img(s||(s=(0,x.A)(["\n  width: 100%;\n  height: 270px;\n  object-fit: cover;\n  border-radius: 4px;\n  display: block;\n  margin: 0 auto 8px auto;\n"]))),b=h.A.span(i||(i=(0,x.A)(["\n  display: block;\n  text-align: center;\n  font-size: 1.05rem;\n  font-weight: 600;\n  margin-bottom: 4px;\n"])));var v=e(579);const A=n=>{let{movies:t}=n;const e=(0,p.zy)();return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(u,{children:t.map((n=>{let{title:t,id:a,poster_path:r}=n;return(0,v.jsx)(g,{children:(0,v.jsx)(m,{children:(0,v.jsxs)(p.N_,{to:"".concat(a),state:{from:e},children:[(0,v.jsx)(f,{src:"".concat("https://image.tmdb.org/t/p/w200").concat(r),alt:t}),(0,v.jsx)(b,{children:t})]})})},a)}))})})};var w,y;const j=h.A.label(w||(w=(0,x.A)(["\n  display: flex;\n  justify-content: center;\n  margin: 24px 0;\n"]))),k=h.A.input(y||(y=(0,x.A)(["\n  width: 320px;\n  padding: 10px 16px;\n  border: 1px solid #bdbdbd;\n  border-radius: 6px;\n  font-size: 1rem;\n  outline: none;\n  transition: border 0.2s;\n\n  &:focus {\n    border-color: #1976d2;\n  }\n"]))),_=n=>{let{onQuery:t,queryParams:e,setPage:a}=n;return(0,v.jsx)(j,{children:(0,v.jsx)(k,{type:"text",placeholder:"Search movies",value:e,onChange:n=>{const e=n.target.value;t(""!==e?{query:e}:{}),a(1)}})})};var q;const S=h.A.button(q||(q=(0,x.A)(["\nmargin-top: 24px;\n  margin-left: auto;\n  margin-right: auto;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  display: block;\n  color: #fff;\n  background-color: #1976d2;\n  border: 0;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 500;\n  min-width: 180px;\n  padding: 12px 24px;\n  border-radius: 6px;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n\n  &:hover,\n  &:focus {\n    background-color: #303f9f;\n  }\n"]))),C=n=>{let{onClick:t}=n;return(0,v.jsx)(S,{type:"button",onClick:t,children:"Load more"})};var F=e(135),z=e(191);const M=()=>{var n;const[t,e]=(0,l.useState)([]),[a,r]=(0,p.ok)(),[o,s]=(0,l.useState)(1),[i,x]=(0,l.useState)(!1),[h,u]=(0,l.useState)(!1),[g,m]=(0,l.useState)(!1),f=null!==(n=a.get("query"))&&void 0!==n?n:"";(0,l.useEffect)((()=>{if(!f)return e([]);(async(n,t)=>{x(!0);try{const{results:a,total_result:r,total_pages:o}=await(0,F.q8)(n,t);1===t?e(a):(e((n=>[...n,...a])),m(o<Math.ceil(r/20))),m(!0),x(!1)}catch(h){u(!0),console.log(h.message),x(!0)}})(f,o)}),[o,f]),(0,l.useEffect)((()=>{if(!f)return m(!1)}),[f]);return(0,v.jsx)(z.m,{children:(0,v.jsxs)(z.w,{children:[(0,v.jsx)("h1",{children:"Search Movies"}),(0,v.jsx)(_,{onQuery:n=>{r(n)},queryParams:f,setPage:s}),i?(0,v.jsx)(d.A,{}):(0,v.jsxs)(v.Fragment,{children:[0!==t.length&&(0,v.jsxs)("h2",{children:["Movies: '",f,"'"]}),(0,v.jsx)(A,{movies:t}),g&&(0,v.jsx)(C,{onClick:()=>{s((n=>n+1))}})]}),h&&(0,v.jsx)(c.A,{})]})})}},135:(n,t,e)=>{e.d(t,{LF:()=>i,Nt:()=>o,UM:()=>d,dk:()=>c,q8:()=>s});var a=e(722);const r="https://api.themoviedb.org/3";a.A.defaults.params={api_key:"7dad0d8643406850cd53b8ced36ef73e"};const o=async()=>(await a.A.get("".concat(r,"/trending/movie/day"))).data.results,s=async function(n){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(await a.A.get("".concat(r,"/search/movie?query=").concat(n,"&page=").concat(t))).data},i=async n=>(await a.A.get("".concat(r,"/movie/").concat(n))).data,c=async n=>(await a.A.get("".concat(r,"/movie/").concat(n,"/credits"))).data.cast,d=async n=>(await a.A.get("".concat(r,"/movie/").concat(n,"/reviews"))).data.results},146:(n,t,e)=>{e.d(t,{A:()=>o});e(43);var a=e(266),r=e(579);const o=()=>(0,r.jsx)("div",{children:(0,r.jsx)(a.pf,{color:"#00BFFF",height:80,width:80})})},191:(n,t,e)=>{e.d(t,{m:()=>i,w:()=>c});var a,r,o=e(528),s=e(323);const i=s.A.div(a||(a=(0,o.A)(["\n  max-width: 1100px;\n  padding: 0 16px;\n  margin: 0 auto;\n"]))),c=s.A.section(r||(r=(0,o.A)(["\n  padding: 60px 0;\n  border-bottom: 1px solid #eee;\n  height: 100%;\n"])))},334:(n,t,e)=>{e.d(t,{A:()=>r});e(43);var a=e(579);const r=n=>{let{message:t}=n;return(0,a.jsx)("p",{children:t})}}}]);
//# sourceMappingURL=41.d1075bdb.chunk.js.map